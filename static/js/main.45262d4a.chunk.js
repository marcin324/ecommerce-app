(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),l=a(6),i=a(1),s=a(2),d=a(4),u=a(3),h=a(5),m=(a(15),function(e){return c.a.createElement("div",{className:"product_cart_form"},c.a.createElement("form",null,c.a.createElement("label",null,"Quantity:"),c.a.createElement("input",{type:"number",value:0===e.numberOfProducts?"":e.numberOfProducts,onChange:function(t){return e.onGiveNumber(t)}})),c.a.createElement("button",{onClick:e.handleAddProducts},"Add to cart"))}),v=(a(16),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).json=a.props.product.general.description,a.description=a.json.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,""),a.onGiveNumber=function(e){a.setState({numberOfProducts:e.target.value,brandName:a.props.product.brand.name,productName:a.props.product.general.name,id:a.props.product.id,image:a.props.product.images.primary.large})},a.handleAddProducts=function(){var e=a.state,t=e.id,n=e.numberOfProducts,c=e.brandName,r=e.productName,o=e.image;n<1||(a.props.handleAddToCart(t,n,c,r,o),a.setState({numberOfProducts:"",brandName:"",productName:"",id:null,image:""}))},a.state={numberOfProducts:0,brandName:"",productName:"",id:null,image:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.activeModal,n=e.handleAddToCart,r=e.handleShowModal,o=e.handleHideModal,l=this.state.numberOfProducts,i=t===a?"show":"",s=t===a?"show":"",d=t===a?"img":"";return c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"product_container"},c.a.createElement("div",{className:"product_container_image"},c.a.createElement("img",{onClick:function(){return r(t)},src:t.images.primary.large,alt:t.general.name})),c.a.createElement("div",{className:"product_container_content"},c.a.createElement("button",{className:"btn_show_modal",onClick:function(){return r(t)}},c.a.createElement("p",null,t.general.name)),c.a.createElement("p",null,"ID: ",t.general.presentable_id),c.a.createElement(m,{product:t,numberOfProducts:l,handleAddToCart:n,handleAddProducts:this.handleAddProducts,onGiveNumber:this.onGiveNumber}))),c.a.createElement("div",{className:"overlay ".concat(s)},c.a.createElement("div",{className:"modal ".concat(i)},c.a.createElement("div",{className:"modal_content"},c.a.createElement("span",{className:"icon-cancel",onClick:o}),c.a.createElement("div",{className:"image"},c.a.createElement("img",{className:"".concat(d),src:t.images.primary.large,alt:t.general.name})),c.a.createElement("p",null,t.brand.name),c.a.createElement("p",null,t.general.name),c.a.createElement("p",null,this.description),c.a.createElement("p",null,"ID: ",t.general.presentable_id),c.a.createElement(m,{product:t,numberOfProducts:l,handleAddToCart:n,handleAddProducts:this.handleAddProducts,onGiveNumber:this.onGiveNumber})))))}}]),t}(n.Component)),g=function(e){var t=e.products.map(function(t){return c.a.createElement(v,{key:t.id,product:t,products:e.products,handleShowModal:e.handleShowModal,handleHideModal:e.handleHideModal,handleAddToCart:e.handleAddToCart,activeModal:e.activeModal})});return c.a.createElement("div",{className:"products"},t)},f=(a(17),function(e){return c.a.createElement("div",{className:"pagin"},c.a.createElement("i",{onClick:e.handlePrevPage,className:"icon-left-open-big ".concat(e.chevronLeft)}),c.a.createElement("form",{onSubmit:function(t){return e.handleChangePage(t)}},c.a.createElement("input",{type:"number",id:"number",onChange:function(t){return e.onChangePage(t)},value:e.activePage}),c.a.createElement("span",null,"from"),e.numberOfPages),c.a.createElement("i",{onClick:e.handleNextPage,className:"icon-right-open-big ".concat(e.chevronRight)}))}),p=(a(18),function(e){return c.a.createElement("div",{className:"form"},c.a.createElement("form",{onSubmit:function(t){return e.handleSearchText(t)}},c.a.createElement("label",{htmlFor:"searchText"},"Search product:"),c.a.createElement("input",{placeholder:"search for anything",type:"text",id:"searchText",onChange:function(t){return e.onSearchText(t)},value:e.searchText}),c.a.createElement("button",{onSubmit:function(t){return e.handleSearchText(t)}},"Search"),c.a.createElement("button",{onClick:e.onClick},"Show all")))}),P=(a(19),function(e){var t=e.cartItem,a=e.handleRemoveItemFromCart;return c.a.createElement("div",{className:"cart_item"},c.a.createElement("div",{className:"cart_item_img"},c.a.createElement("img",{className:"img",src:t.image,alt:t.productName})),c.a.createElement("div",{className:"cart_item_product"},c.a.createElement("h4",null,t.brandName),c.a.createElement("p",null,t.productName)),c.a.createElement("div",null,"1"===t.numberOfProducts?c.a.createElement("p",null,t.numberOfProducts," pc."):c.a.createElement("p",null,t.numberOfProducts," pcs.")),c.a.createElement("span",{className:"icon-cancel-circled-outline",onClick:function(){return a(t.id)}}))}),b=(a(20),function(e){var t=e.showCart,a=e.selectedProducts,n=e.numberOfSelectedProducts,r=e.handleShowCart,o=e.handleHideCart,l=e.handleRemoveItemFromCart,i=e.handleRemoveAllFromCart,s=t?"show":"",d=t?"show":"";if(a.length>0){var u=a.map(function(e){return c.a.createElement(P,{key:e.id,cartItem:e,showCart:t,handleShowCart:r,handleHideCart:o,handleRemoveItemFromCart:l})});return c.a.createElement("div",{className:"cart"},c.a.createElement("div",{onClick:r,className:"cart_icon"},c.a.createElement("div",{className:"cart_number"},n),c.a.createElement("span",{className:"icon-basket"})),c.a.createElement("div",{className:"overlay ".concat(d)},c.a.createElement("div",{className:"modal ".concat(s)},c.a.createElement("div",{className:"modal_content"},c.a.createElement("span",{className:"icon-cancel",onClick:o}),u,c.a.createElement("div",{className:"cart_remove_all"},c.a.createElement("p",null,"Remove all"),c.a.createElement("span",{className:"icon-trash-empty",onClick:function(e){return i(e)}}))))))}return c.a.createElement("div",{className:"cart"},c.a.createElement("div",{onClick:r,className:"cart_icon"},c.a.createElement("span",{className:"icon-basket"})),c.a.createElement("div",{className:"overlay ".concat(d)},c.a.createElement("div",{className:"modal ".concat(s)},c.a.createElement("div",{className:"modal_content modal_content_empty"},c.a.createElement("span",{className:"icon-cancel",onClick:o}),c.a.createElement("span",{className:"icon-basket_empty icon-basket"}),c.a.createElement("p",null,"Your shopping cart is empty")))))}),E=(a(21),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleNextPage=function(){a.setState({chevronLeft:""});var e=a.state,t=e.searchText,n=e.activePage,c=e.numberOfPages,r=e.itemsCountPerPage;if(t.length<3&&n<c)fetch("http://localhost:3005/products?_page=".concat(n+1,"&_limit=").concat(r)).then(function(e){return e.json()}).then(function(e){n===c-1?a.setState({chevronRight:"invisible",activePage:n+1,products:e}):a.setState({activePage:n+1,products:e,chevronRight:""})}).catch(function(e){return console.log(e)});else{if(!(t.length>=3&&n<c))return;fetch("http://localhost:3005/products?q=".concat(t,"&_page=").concat(n+1,"&_limit=").concat(r)).then(function(e){return e.json()}).then(function(e){n===c-1?a.setState({chevronRight:"invisible",activePage:n+1,products:e}):a.setState({activePage:n+1,products:e,chevronRight:""})}).catch(function(e){return console.log(e)})}},a.handlePrevPage=function(){a.setState({chevronRight:""});var e=a.state,t=e.searchText,n=e.activePage,c=e.itemsCountPerPage;if(t.length<3&&n>1)fetch("http://localhost:3005/products?_page=".concat(n-1,"&_limit=").concat(c)).then(function(e){return e.json()}).then(function(e){2===n?a.setState({activePage:n-1,products:e,chevronLeft:"invisible"}):a.setState({activePage:n-1,products:e,chevronLeft:""})}).catch(function(e){return console.log(e)});else{if(!(t.length>=3&&n>1))return;fetch("http://localhost:3005/products?q=".concat(t,"&_page=").concat(n-1,"&_limit=").concat(c)).then(function(e){return e.json()}).then(function(e){2===n?a.setState({activePage:n-1,products:e,chevronLeft:"invisible"}):a.setState({activePage:n-1,products:e,chevronLeft:""})}).catch(function(e){return console.log(e)})}},a.onChangePage=function(e){a.setState({activePage:parseInt(e.target.value)})},a.handleChangePage=function(e){e.preventDefault();var t=a.state,n=t.searchText,c=t.activePage,r=t.numberOfPages,o=t.itemsCountPerPage;if(n.length<3&&c<=r&&c>0)fetch("http://localhost:3005/products?_page=".concat(c,"&_limit=").concat(o)).then(function(e){return e.json()}).then(function(e){1===c?a.setState({products:e,chevronLeft:"invisible",chevronRight:""}):c===r?a.setState({products:e,chevronLeft:"",chevronRight:"invisible"}):a.setState({products:e,chevronLeft:"",chevronRight:""})}).catch(function(e){return console.log(e)});else{if(!(n.length>=3&&c<=r&&c>0))return;fetch("http://localhost:3005/products?q=".concat(n,"&_page=").concat(c,"&_limit=").concat(o)).then(function(e){return e.json()}).then(function(e){1===c&&c===r?a.setState({products:e,chevronLeft:"invisible",chevronRight:"invisible"}):1===c?a.setState({products:e,chevronLeft:"invisible",chevronRight:""}):c===r?a.setState({products:e,chevronLeft:"",chevronRight:"invisible"}):a.setState({products:e,chevronLeft:"",chevronRight:""})}).catch(function(e){return console.log(e)})}},a.onSearchText=function(e){a.setState({searchText:e.target.value})},a.handleSearchText=function(e){e.preventDefault(),a.setState({chevronLeft:"invisible"});var t=a.state,n=t.searchText,c=t.itemsCountPerPage;n.length<3||fetch("http://localhost:3005/products?q=".concat(n,"&_limit=140")).then(function(e){return e.json()}).then(function(e){e.length<=c?a.setState({activePage:1,numberOfPages:Math.ceil(e.length/c),products:e.slice(0,c),chevronRight:"invisible"}):a.setState({activePage:1,numberOfPages:Math.ceil(e.length/c),products:e.slice(0,c),chevronRight:""})})},a.handleShowModal=function(e){a.setState({activeModal:e})},a.handleHideModal=function(){a.setState({activeModal:null})},a.handleAddToCart=function(e,t,n,c,r){var o={id:e,numberOfProducts:t,brandName:n,productName:c,image:r};a.setState(function(e){return{numberOfSelectedProducts:e.numberOfSelectedProducts+1,selectedProducts:[].concat(Object(l.a)(e.selectedProducts),[o])}});var i=Object(l.a)(a.state.selectedProducts);i.forEach(function(n){n.id===e&&(n.numberOfProducts=parseInt(n.numberOfProducts)+parseInt(t),a.setState(function(e){return{numberOfSelectedProducts:e.numberOfSelectedProducts-1,selectedProducts:i}}))})},a.handleShowCart=function(){a.setState({showCart:!0})},a.handleHideCart=function(){a.setState({showCart:!1})},a.handleRemoveItemFromCart=function(e){var t=Object(l.a)(a.state.selectedProducts),n=t.findIndex(function(t){return t.id===e});t.splice(n,1),a.setState({numberOfSelectedProducts:a.state.numberOfSelectedProducts-1,selectedProducts:t})},a.handleRemoveAllFromCart=function(e){e.stopPropagation(),a.setState({numberOfSelectedProducts:0,selectedProducts:[]})},a.state={products:[],numberOfPages:0,searchText:"",activePage:0,numberOfSelectedProducts:0,numberOfAllProducts:0,selectedProducts:"",activeModal:null,chevronLeft:"",chevronRight:"",itemsCountPerPage:10,showCart:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({searchText:""});var t=this.state.itemsCountPerPage;fetch("http://localhost:3005/products?_page=1&_limit=".concat(t)).then(function(e){return e.json()}).then(function(a){e.setState({numberOfPages:140/t,activePage:1,products:a,chevronLeft:"invisible",chevronRight:""})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.searchText,a=e.numberOfSelectedProducts,n=e.selectedProducts,r=e.activeModal,o=e.activePage,l=e.numberOfPages,i=e.products,s=e.chevronLeft,d=e.chevronRight,u=e.showCart;return c.a.createElement("div",{className:"app"},c.a.createElement(p,{searchText:t,handleSearchText:this.handleSearchText,onSearchText:this.onSearchText,onClick:this.componentDidMount.bind(this)}),c.a.createElement(b,{selectedProducts:n,numberOfSelectedProducts:a,showCart:u,handleShowCart:this.handleShowCart,handleHideCart:this.handleHideCart,handleRemoveItemFromCart:this.handleRemoveItemFromCart,handleRemoveAllFromCart:this.handleRemoveAllFromCart}),c.a.createElement(f,{activePage:o,numberOfPages:l,chevronLeft:s,chevronRight:d,handlePrevPage:this.handlePrevPage,handleNextPage:this.handleNextPage,handleChangePage:this.handleChangePage,onChangePage:this.onChangePage}),c.a.createElement(g,{products:i,handleShowModal:this.handleShowModal,handleHideModal:this.handleHideModal,handleAddToCart:this.handleAddToCart,activeModal:r}),c.a.createElement(f,{activePage:o,numberOfPages:l,chevronLeft:s,chevronRight:d,handlePrevPage:this.handlePrevPage,handleNextPage:this.handleNextPage,handleChangePage:this.handleChangePage,onChangePage:this.onChangePage}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.45262d4a.chunk.js.map